Data Analysis Draft
Jacob Hunting

```{r}
options(scipen=999)
library(tidyverse)
library(janitor)
library(rio)
library(dplyr)
library(leaflet)

```
Load Data 
```{r}
attendance <- rio::import("attendance.rds")
pg_county <- rio::import("pg_county.rds")
pg_elementary <- rio::import("pg_elementary_school_locations.rds")
pg_income <- rio::import("pg_tract_income.rds")
md_race <-read.csv("md_race_all_8_13.csv")
md_math <- rio::import("2023_MCAP_MATH_Administrative_Data_Report_Card.xlsx")
md_ela <- rio::import("2023_MCAP_ELA_Administrative_Data_Report_Card.xlsx")
md_crosswalk <-rio::import("maryland_tracts.xls")
geoid <- rio::import("md_counties_geoids.txt")


```
Clean Data
```{r}
pg_math <- md_math %>% 
  filter(LEA_Name == "Prince George's") %>% 
  filter(Assessment == "Mathematics 03") %>% 
  clean_names() 

pg_ela <- md_ela %>% 
  filter(LEA_Name == "Prince George's") %>% 
  filter(Assessment == "English Language Arts 03") %>% 
    clean_names() 


pg_math_ela <- pg_math %>% 
  inner_join(pg_ela, by="school_name") %>% 
  clean_names() %>% 
  rename(math_profic_pct=proficient_pct_x, ela_profic_pct=proficient_pct_y) %>% 
  select(school_name, math_profic_pct, ela_profic_pct)





```

Questions 

Question 1
Is there a correlation between race and attendance in PG County elementary schools? 
```{r}
pg_elementary_race <- pg_elementary
  inner_join(attendance, by="school_name")

  #Note to professor: I tried to get this to work with the md crosswalk data but couldn't get it, I might need some help with getting that table right but once I do I think I can answer questions 1,2 and 3.
```

Question 2
Is there a correlation between median income and attendance in PG County Elementary Schools? 
```{r}


```
Question 3
Is there a correlation between test scores and median household income in PG County Elementary Schools?
```{r}

```

Question 4
Is there a correlation between test scores and attendance in PG County Elementary Schools? 
```{r}
pg_math_ela_attendence <- pg_math_ela%>% 
  inner_join(attendance, by="school_name") %>% 
  select(school_name, math_profic_pct, ela_profic_pct,attend_rate_pct)


```

Question 5
Looking at the school zone with the highest test scores where do they rank in terms of attendance and median income?
```{r}
pg_math_ela_combined <- pg_math %>% 
  inner_join(pg_ela, by="school_name") %>% 
  clean_names() %>% 
  rename(math_profic_pct=proficient_pct_x, ela_profic_pct=proficient_pct_y, level_4_pct_math=level_4_pct_x, level_4_pct_ela=level_4_pct_y) %>% 
  select(school_name, level_4_pct_math, level_4_pct_ela)
```