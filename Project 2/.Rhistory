# Turn off scientific notation
options(scipen=999)
library(tidyverse)
library(janitor)
library(rio)
library(dplyr)
library(readr)
library(rvest)
homicides <- read.csv("homicide-data.csv") %>%
as.data.frame() %>%
clean_names()
install.packages(lubridate)
library(lubridate)
date_string <- "20100504"
parsed_date <- ymd(date_string)
year_only <- year(parsed_date)
homicides <- homicides %>%
mutate(year = year(ymd(reported_date)))
balt_homicides <- homicides %>%
filter(city == "Baltimore")
balt_homicides151617 <- balt_homicides %>%
mutate(row = row_number()) %>%
filter(year >= 2015)
#1002 reported homicides in 2015, 2016 and 2017. 2015 and 2017 had 365 days and 2016 had 366 days. This is 1096 days.
#1002 homicides divided by 1096 days is about .914, which is about 1 homicide per day over those three years.
#Note to Prof Wells - please let us know if there is a different way that you would want us to filter for year. We were unsure how to split up the text, so we found the row with the earliest 2015 homicide and filtered for all subsequent homicides through assigning numbers to rows.
balt_hom_yr <- balt_homicides %>%
count(disposition, year) %>%
group_by(disposition, year) %>%
filter(disposition == "Closed by arrest")
balt_hom_yr %>%
ggplot(aes(x=year, y=n, weight=n, fill=n))+
geom_col()
#This graph shows that arrests for homicides went down.
#Although we do not exactly agree that they plumpted.
balt_homicides2014 <- balt_homicides %>%
filter(year == "2014") %>%
count(disposition) %>%
group_by(disposition)
sum(balt_homicides2014$n)
#The total amount of homicides in 2014 in Baltimore was 211. There were 86 arrests. 86 divded by 211 is .407 which is about 41%
balt_homicides2017 <- balt_homicides %>%
filter(year == "2017") %>%
count(disposition) %>%
group_by(disposition)
sum(balt_homicides2017$n)
#The total amount of homicides in 2014 in Baltimore was 340. There were 93 arrests. 93 divided by 340 is .27 which is 27%.
#41% compared to 27% is indeed a 14% drop.
balt_homicides151617_dispo <- balt_homicides151617 %>%
count(disposition) %>%
group_by(disposition)
#252 of the homicides between 2015-2017 were closed by an arrest.
View(balt_hom_yr)
View(balt_homicides2014)
balt_homicides2014 <- balt_homicides %>%
filter(year == "2014") %>%
count(disposition) %>%
group_by(disposition) %>%
mutate(n/sum(balt_homicides2014))
balt_homicides2014 <- balt_homicides %>%
filter(year == "2014") %>%
count(disposition) %>%
group_by(disposition) %>%
mutate(n/sum(balt_homicides2014$n)) %>%
sum(balt_homicides2014$n)
balt_homicides2014 <- balt_homicides %>%
filter(year == "2014") %>%
count(disposition) %>%
group_by(disposition) %>%
mutate(n/sum(balt_homicides2014$n))
#The total amount of homicides in 2014 in Baltimore was 211. There were 86 arrests. 86 dived by 211 is .407 which is about 41%
balt_homicides2014 <- balt_homicides %>%
filter(year == "2014") %>%
count(disposition) %>%
group_by(disposition) %>%
mutate(n/sum(balt_homicides2014$n)*100)
#The total amount of homicides in 2014 in Baltimore was 211. There were 86 arrests. 86 dived by 211 is .407 which is about 41%
View(balt_homicides2017)
balt_homicides2017 <- balt_homicides %>%
filter(year == "2017") %>%
count(disposition) %>%
group_by(disposition) %>%
mutate(n/sum(balt_homicides2017$n)*100)
#The total amount of homicides in 2014 in Baltimore was 340. There were 93 arrests. 93 divided by 340 is .27 which is 27%.
#41% compared to 27% is indeed a 14% drop.
balt_homicides151617_dispo <- balt_homicides151617 %>%
count(disposition) %>%
group_by(disposition)
#252 of the homicides between 2015-2017 were closed by an arrest.
View(balt_homicides151617_dispo)
