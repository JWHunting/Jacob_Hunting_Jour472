library(tidyverse)
baltcity_income<- read_csv("https://raw.githubusercontent.com/wellsdata/data_journalism_class/main/04_labs/lab_05/pre_lab_05/baltcity_income_clean.csv") %>%
as.data.frame()
View(baltcity_income)
pct_whole <- baltcity_income %>%
mutate(sum(x2020))
View(pct_whole)
library(tidyverse)
baltcity_income<- read_csv("https://raw.githubusercontent.com/wellsdata/data_journalism_class/main/04_labs/lab_05/pre_lab_05/baltcity_income_clean.csv") %>%
as.data.frame()
View(baltcity_income)
baltcity_income %>%
mutate(x2020/sum(x2020))
View(baltcity_income)
baltcity_income %>%
sum(x2020) %>%
mutate(x2020/sum(x2020))
baltcity_income %>%
sum(x2020) %>%
mutate(x2020/sum(x2020)*100)
baltcity_income %>%
mutate(x2020/sum(x2020)*100)
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=scales::percent(x2020/ sum(x2020, na.rm = TRUE) accuracy = 0.2)) %>%
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=scales::percent(x2020/ sum(x2020 na.rm = TRUE) accuracy = 0.2)) %>%
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ sum(x2020)*100)) %>%
arrange(desc)
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ sum(x2020)*100)) %>%
arrange(desc(n))
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ sum(x2020)*100)) %>%
arrange(desc(pct_whole))
View(baltcity_income_2020)
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ sum(x2020)*100 na.rm == TRUE)) %>%
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ sum(x2020)*100))
View(baltcity_income_2020)
baltcity_income_2020 <- baltcity_income %>%
select(Census, Neighborhood, x2020) %>%
mutate(pct_whole=(x2020/ (sum(x2020))*100))
View(baltcity_income_2020)
library(tidyverse)
library(tidycensus)
install.packages("tidycensus")
library(tidyverse)
library(tidycensus)
library(janitor)
census_api_key("77f646823d096955266aa8f33f6143ba88b313f6", install=TRUE, overwrite = TRUE)
pl_2020 <- load_variables(2020, "pl", cache = TRUE)
pl_2020
View(pl_2020)
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020)
total_pop_2020
View(total_pop_2020)
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020) %>%
arrange(desc(value))
total_pop_2020
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020) %>%
clean_names() %>%
arrange(desc(value)) %>%
rename(total_population = value,
state = name) %>%
select(state, total_population)
total_pop_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020)
pct_white_2020
View(pct_white_2020)
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide")
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID)
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID) %>%
mutate(pct_white = white_pop/total_pop*100)
pct_white_2020
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020) %>%
arrange(desc(estimate))
md
View(md)
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020) %>%
arrange(desc(estimate))
md
md %>%
mutate(NAME = gsub(" County, Maryland", "", NAME)) %>%
ggplot(aes(x = estimate, y = reorder(NAME, estimate))) +
geom_errorbarh(aes(xmin = estimate - moe, xmax = estimate + moe)) +
geom_point(color = "red") +
labs(title = "Household income by county in Maryland",
subtitle = "2015-2019 American Community Survey",
y = "",
x = "ACS estimate (bars represent margin of error)")
acs_variable <- load_variables(dataset = "acs5", year=2020)
View(acs_variable)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
state = "MD",
year = 2020) %>%
arrange(desc(male_population))
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
state = "MD",
year = 2020)
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020)
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
mutate(pct_whole=(x2020/ (sum(x2020))*100))
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
male_pop = B01001A_002,
total_pop = B01001A_001) %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
View(pct_white_2020)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001
"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = B01001A_002/B01001A_001*100)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
mutate(pct_male = male_pop/total_pop*100)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(total_pop, white_pop, state) %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
select(total_population, male_population, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide")
View(male)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020) %>%
View(male)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020)
View(md)
View(male)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020)
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B98012_002",total_population = "B01003_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, name) %>%
mutate(pct_male = male_populationE/total_populationE*100)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100) %>%
arrange(desc(male_populationE))
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100) %>%
arrange(desc(pct_male))
View(male_2020)
library(tidyverse)
library(janitor)
library(tidycensus)
census_api_key("4a5565f7bebc7cd034e85e374e1ddcc929798252", overwrite = TRUE, install = TRUE)
###
# Load ACS variables
###
acs_vars <- load_variables("acs5", year=2020)
###
# Get median household income for Maryland 2020
###
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020)
View(acs_vars)
View(md)
md <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY", "CA" ,
year = 2020)
md <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "CA",
year = 2020)
View(ca)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "CA",
year = 2020)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "CA",
year = 2020)
ks <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "KS",
year = 2020)
wi <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "WI",
year = 2020)
View(wi)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020) %>%
mutate(m25_29$estimate+m30_34$estimate+f25_29$estimate+f30_34$estimate)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME)
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable = "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
library(tidyverse)
library(janitor)
library(tidycensus)
library(dyplr)
library(tidyverse)
library(janitor)
library(tidycensus)
library(diplr)
library(tidyverse)
library(janitor)
library(tidycensus)
library(dplyr)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
