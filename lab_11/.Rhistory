arrange(desc(value)) %>%
rename(total_population = value,
state = name) %>%
select(state, total_population)
total_pop_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020)
pct_white_2020
View(pct_white_2020)
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide")
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID)
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID) %>%
mutate(pct_white = white_pop/total_pop*100)
pct_white_2020
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020) %>%
arrange(desc(estimate))
md
View(md)
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020) %>%
arrange(desc(estimate))
md
md %>%
mutate(NAME = gsub(" County, Maryland", "", NAME)) %>%
ggplot(aes(x = estimate, y = reorder(NAME, estimate))) +
geom_errorbarh(aes(xmin = estimate - moe, xmax = estimate + moe)) +
geom_point(color = "red") +
labs(title = "Household income by county in Maryland",
subtitle = "2015-2019 American Community Survey",
y = "",
x = "ACS estimate (bars represent margin of error)")
acs_variable <- load_variables(dataset = "acs5", year=2020)
View(acs_variable)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
state = "MD",
year = 2020) %>%
arrange(desc(male_population))
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
state = "MD",
year = 2020)
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020)
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
mutate(pct_whole=(x2020/ (sum(x2020))*100))
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
male_pop = B01001A_002,
total_pop = B01001A_001) %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
View(pct_white_2020)
male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002" , "B01001A_001"),
year = 2020) %>%
arrange(desc(estimate))
View(male)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001
"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
mutate(pct_male = B01001A_002/B01001A_001*100)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(-GEOID) %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
mutate(pct_male = male_pop/total_pop*100)
View(pct_white_2020)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
select(total_pop, white_pop, state) %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
mutate(pct_male = male_pop/total_pop*100)
pct_male_2020 <- get_acs(geography="state", variables=c("B01001A_002","B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = B01001A_001,
white_pop = B01001A_002) %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
select(total_pop, white_pop, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide") %>%
select(total_population, male_population, state) %>%
mutate(pct_male = male_pop/total_pop*100)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide")
View(male)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020) %>%
View(male)
male <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020)
View(md)
View(male)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020)
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001A_002",total_population = "B01001A_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B98012_002",total_population = "B01003_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide")
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, name) %>%
mutate(pct_male = male_populationE/total_populationE*100)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100) %>%
arrange(desc(male_populationE))
View(male_2020)
male_2020 <- get_acs(geography="state",
variables=c(male_population = "B01001_002",total_population = "B01003_001"), year=2020, output="wide") %>%
select(total_populationE, male_populationE, NAME) %>%
mutate(pct_male = male_populationE/total_populationE*100) %>%
arrange(desc(pct_male))
View(male_2020)
library(tidyverse)
library(janitor)
library(tidycensus)
census_api_key("4a5565f7bebc7cd034e85e374e1ddcc929798252", overwrite = TRUE, install = TRUE)
###
# Load ACS variables
###
acs_vars <- load_variables("acs5", year=2020)
###
# Get median household income for Maryland 2020
###
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020)
View(acs_vars)
View(md)
md <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY", "CA" ,
year = 2020)
md <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "CA",
year = 2020)
View(ca)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "CA",
year = 2020)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "CA",
year = 2020)
ks <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "KS",
year = 2020)
wi <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "WI",
year = 2020)
View(wi)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020) %>%
mutate(m25_29$estimate+m30_34$estimate+f25_29$estimate+f30_34$estimate)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME)
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable = "m25_29" , "m30_34" , "f25_29" , "f30_34")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
library(tidyverse)
library(janitor)
library(tidycensus)
library(dyplr)
library(tidyverse)
library(janitor)
library(tidycensus)
library(diplr)
library(tidyverse)
library(janitor)
library(tidycensus)
library(dplyr)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29" , "m30_34" , "f25_29" , "f30_34")
library(tidyverse)
library(janitor)
library(tidycensus)
library(dplyr)
census_api_key("4a5565f7bebc7cd034e85e374e1ddcc929798252", overwrite = TRUE, install = TRUE)
###
# Load ACS variables
###
acs_vars <- load_variables("acs5", year=2020)
###
# Get median household income for Maryland 2020
###
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020)
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29")
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036" , total = "B01001_001"),
state = "NY",
year = 2020)
ny_filter <- ny %>%
select(variable, estimate, NAME) %>%
filter(variable == "m25_29, m30_34, f25_29, f30_34")
View(ny_filter)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "NY",
year = 2020)
View(ny_total)
View(ny)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "NY",
year = 2020)
sum(ny$estimate)/sum(ny_total$estimate)
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "CA",
year = 2020)
ca_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "CA",
year = 2020)
sum(ca$estimate)/sum(ca_total$estimate)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "NY",
year = 2020)
sum(ny$estimate)/sum(ny_total$estimate)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "NY",
year = 2020)
sum(ny$estimate)/sum(ny_total$estimate)
ny <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "NY",
year = 2020)
ny_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "NY",
year = 2020)
(sum(ny$estimate)/sum(ny_total$estimate))*100
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "CA",
year = 2020)
ca_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "CA",
year = 2020)
(sum(ny$estimate)/sum(ny_total$estimate))*100
#14.68 of the population of California is people age 24-34.
ca <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "CA",
year = 2020)
ca_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "CA",
year = 2020)
(sum(ca$estimate)/sum(ca_total$estimate))*100
#14.68 of the population of California is people age 24-34.
ks <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "KS",
year = 2020)
ks_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "KS",
year = 2020)
(sum(ks$estimate)/sum(ks_total$estimate))*100
#15.27 of the population of Kansas is people age 24-34.
wi <- get_acs(geography = "state",
variables = c(m25_29 = "B01001_011" , m30_34 = "B01001_012" , f25_29 = "B01001_035" , f30_34 = "B01001_036"),
state = "WI",
year = 2020)
wi_total <- get_acs(geography = "state",
variables = c(total = "B01001_001"),
state = "WI",
year = 2020)
(sum(wi$estimate)/sum(wi_total$estimate))*100
#15.27 of the population of Wisconsin is people age 24-34.
md %>%
mutate(NAME = gsub(" County, Maryland", "", NAME)) %>%
ggplot(aes(x = estimate, y = reorder(NAME, estimate))) +
geom_errorbarh(aes(xmin = estimate - moe, xmax = estimate + moe)) +
geom_point(color = "red") +
labs(title = "Household income by county in Maryland",
subtitle = "2015-2019 American Community Survey",
y = "",
x = "ACS estimate (bars represent margin of error)")
View(acs_vars)
ak <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "AK",
year = 2020)
View(ak)
ak <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "AK",
year = 2020)
wa <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "WA",
year = 2020)
hi <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "HI",
year = 2020)
fl <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "FL",
year = 2020)
ak <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "AK",
year = 2020)
wa <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "WA",
year = 2020)
hi <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "HI",
year = 2020)
fl <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "FL",
year = 2020)
median_age <-fl %>%
inner_join(wa, by=c("name"="name"))
ak <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "AK",
year = 2020)
wa <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "WA",
year = 2020)
hi <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "HI",
year = 2020)
fl <- get_acs(geography = "state",
variables = c(median_age = "B01002_001"),
state = "FL",
year = 2020)
median_age <-fl %>%
spatial_join(wa, by=c("name"="name"))
View(wa)
View(hi)
View(fl)
